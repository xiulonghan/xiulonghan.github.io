<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>低调的四叔</title>
  
  <subtitle>调参工程师，马列主义信奉者，社会主义实践者，共产主义接班人</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://xiulonghan.github.io/"/>
  <updated>2019-09-02T10:01:24.182Z</updated>
  <id>https://xiulonghan.github.io/</id>
  
  <author>
    <name>aluka</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>基于flask实现简单的文件上传和下载</title>
    <link href="https://xiulonghan.github.io/2019/09/02/flask-upload/"/>
    <id>https://xiulonghan.github.io/2019/09/02/flask-upload/</id>
    <published>2019-09-02T06:51:24.000Z</published>
    <updated>2019-09-02T10:01:24.182Z</updated>
    
    <content type="html"><![CDATA[<p>基于Flask实现简单的文件上传及下载。</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string"># Author:aluka_han</span></span><br><span class="line"><span class="string"># Email:aluka_han@163.com</span></span><br><span class="line"><span class="string"># Datetime:2019/8/30</span></span><br><span class="line"><span class="string"># Reference: https://dormousehole.readthedocs.io/en/latest/patterns/fileuploads.html</span></span><br><span class="line"><span class="string"># Description:</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Standard library</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># Third-party libraries</span></span><br><span class="line"><span class="keyword">from</span> werkzeug.utils <span class="keyword">import</span> secure_filename</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, request, redirect, url_for, flash</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> send_from_directory, jsonify</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">upload_folder = <span class="string">'./'</span>  <span class="comment"># 上传文件需要保存的目录</span></span><br><span class="line">allowed_extensions = [<span class="string">'jpg'</span>, <span class="string">'pdf'</span>, <span class="string">'txt'</span>, <span class="string">'gif'</span>]  <span class="comment"># 允许上传的文件格式</span></span><br><span class="line">app = Flask(__name__, template_folder=<span class="string">'../templates'</span>)</span><br><span class="line">app.secret_key = <span class="string">"super secret key"</span></span><br><span class="line">app.config[<span class="string">'UPLOAD_FOLDER'</span>] = upload_folder</span><br><span class="line">app.config[<span class="string">'MAX_CONTENT_LENGTH'</span>] = <span class="number">16</span> * <span class="number">1024</span> * <span class="number">1024</span>  <span class="comment"># 上传文件的最大值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">allowed_file</span><span class="params">(filename)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    上传文件的格式要求</span></span><br><span class="line"><span class="string">    :param filename:文件名称</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'.'</span> <span class="keyword">in</span> filename <span class="keyword">and</span> \</span><br><span class="line">            filename.rsplit(<span class="string">'.'</span>)[<span class="number">1</span>].lower() <span class="keyword">in</span> allowed_extensions</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/upload', methods=['POST', 'GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'file'</span> <span class="keyword">not</span> <span class="keyword">in</span> request.files:</span><br><span class="line">            flash(<span class="string">'Please Select File'</span>)</span><br><span class="line">            <span class="keyword">return</span> redirect(url_for(<span class="string">'upload'</span>))</span><br><span class="line">        f = request.files[<span class="string">'file'</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> allowed_file(f.filename):</span><br><span class="line">            flash(<span class="string">'Please Select Correct File'</span>)</span><br><span class="line">            <span class="keyword">return</span> redirect(url_for(<span class="string">'upload'</span>))</span><br><span class="line">        <span class="keyword">if</span> f <span class="keyword">and</span> allowed_file(f.filename):</span><br><span class="line">            save_path = os.path.join(app.config[<span class="string">'UPLOAD_FOLDER'</span>], secure_filename(f.filename))</span><br><span class="line">            f.save(save_path)</span><br><span class="line">            flash(<span class="string">'Upload Success'</span>)</span><br><span class="line">            <span class="keyword">return</span> redirect(url_for(<span class="string">'show_upload_file'</span>, filename=secure_filename(f.filename)))</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">'upload.html'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/&lt;filename&gt;')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_upload_file</span><span class="params">(filename)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    显示上传的文件并下载</span></span><br><span class="line"><span class="string">    :param filename: 上传文件名称</span></span><br><span class="line"><span class="string">    :return: 下载文件</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    download_path = <span class="string">'../'</span></span><br><span class="line">    <span class="keyword">return</span> send_from_directory(download_path, filename)  <span class="comment"># as_attachment=True可以实现下载</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(host=<span class="string">'127.0.0.1'</span>, port=<span class="number">9991</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>对应的html代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Flask文件上传<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">enctype</span>=<span class="string">'multipart/form-data'</span> <span class="attr">method</span>=<span class="string">'POST'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    &#123;% for message in get_flashed_messages() %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"alert alert-warning"</span>&gt;</span></span><br><span class="line">     &#123;&#123; message &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">    &#123;% block page_content %&#125;&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>详细信息查看<a href="https://github.com/xiulonghan/flask_upload" target="_blank" rel="noopener">github</a></p><p>每日一句</p><blockquote><p>Ordinary people merely think how they shall spend their time; a man of talent tries to use it.</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;基于Flask实现简单的文件上传及下载。&lt;/p&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;
      
    
    </summary>
    
      <category term="Falsk" scheme="https://xiulonghan.github.io/categories/Falsk/"/>
    
    
      <category term="flask" scheme="https://xiulonghan.github.io/tags/flask/"/>
    
      <category term="web" scheme="https://xiulonghan.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>基于wandb实现keras模型的可视化</title>
    <link href="https://xiulonghan.github.io/2019/08/16/wandb-keras/"/>
    <id>https://xiulonghan.github.io/2019/08/16/wandb-keras/</id>
    <published>2019-08-16T09:33:29.000Z</published>
    <updated>2019-09-02T10:34:09.625Z</updated>
    
    <content type="html"><![CDATA[<p>​        在训练神经网络的过程中，可视化模型的最终结构和中间训练过程是很重要的，这些都可以用写很长的可视化代码实现，但是为了偷懒，可以选择使用<a href="https://www.wandb.com/" target="_blank" rel="noopener">wandb</a>，安装软件包，写几行代码，就可以在网页端显示各种指标及网络结构。<a id="more"></a></p><p>1、安装wandb</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade wandb</span><br></pre></td></tr></table></figure><p>目前wandb支持<strong>Keras</strong>，<strong>PyTorch</strong>，<strong>Tensorflow</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​        在训练神经网络的过程中，可视化模型的最终结构和中间训练过程是很重要的，这些都可以用写很长的可视化代码实现，但是为了偷懒，可以选择使用&lt;a href=&quot;https://www.wandb.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;wandb&lt;/a&gt;，安装软件包，写几行代码，就可以在网页端显示各种指标及网络结构。
    
    </summary>
    
      <category term="Deep Learning" scheme="https://xiulonghan.github.io/categories/Deep-Learning/"/>
    
    
      <category term="keras" scheme="https://xiulonghan.github.io/tags/keras/"/>
    
      <category term="wandb" scheme="https://xiulonghan.github.io/tags/wandb/"/>
    
      <category term="可视化" scheme="https://xiulonghan.github.io/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>keras框架中融合层Merge各类函数的使用</title>
    <link href="https://xiulonghan.github.io/2019/08/09/keras-merge/"/>
    <id>https://xiulonghan.github.io/2019/08/09/keras-merge/</id>
    <published>2019-08-09T07:34:37.000Z</published>
    <updated>2019-08-09T07:52:42.955Z</updated>
    
    <content type="html"><![CDATA[<p>在使用keras的过程中，会遇到融合层merge的使用，包括Add,Subtract,Multipy,Average,Maximum,Concatenate,Dot，以下就是对相关模块的简单示例，以备后续查看。代码如下：<a id="more"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> keras</span><br><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"></span><br><span class="line">x1 = np.random.randint(<span class="number">5</span>, size=(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">x2 = np.random.randint(<span class="number">5</span>, size=(<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">x1_t = K.variable(x1)</span><br><span class="line">x2_t = K.variable(x2)</span><br><span class="line">added = keras.layers.add([x1_t, x2_t])</span><br><span class="line"><span class="comment"># 求多个张量的和，shape保持一致</span></span><br><span class="line">sub = keras.layers.subtract([x1_t, x2_t])</span><br><span class="line"><span class="comment"># 求两个张量的差，shape保持一致</span></span><br><span class="line">mul = keras.layers.multiply([x1_t, x2_t])</span><br><span class="line"><span class="comment"># 求多个张量的乘积，元素级别，shape保持一致</span></span><br><span class="line">ave = keras.layers.average([x1_t, x2_t])</span><br><span class="line"><span class="comment"># 求多个张量的均值，元素级别，shape保持一致</span></span><br><span class="line">max = keras.layers.maximum([x1_t, x2_t])</span><br><span class="line"><span class="comment"># 求多个张量的最大值，元素级别，shape保持一致</span></span><br><span class="line">concat = keras.layers.concatenate([x1_t, x2_t], axis=<span class="number">-2</span>)</span><br><span class="line"><span class="comment"># 连接多个张量，注意axis，如本例中，axis可以为[0,1,-1,-2]</span></span><br><span class="line">dot = keras.layers.dot([x1_t, x2_t], axes=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 求多个张量的dot，注意axis</span></span><br><span class="line">print(<span class="string">'the origin x1 is :\n'</span>, x1)</span><br><span class="line">print(<span class="string">'the origin x2 is :\n'</span>, x2)</span><br><span class="line">print(<span class="string">'the add is :\n'</span>, K.eval(added))</span><br><span class="line">print(<span class="string">'the subtract is :\n'</span>, K.eval(sub))</span><br><span class="line">print(<span class="string">'the multipy is :\n'</span>, K.eval(mul))</span><br><span class="line">print(<span class="string">'the average is :\n'</span>, K.eval(ave))</span><br><span class="line">print(<span class="string">'the maximum is :\n'</span>, K.eval(max))</span><br><span class="line">print(<span class="string">'the concat is :\n'</span>, K.eval(concat))</span><br><span class="line">print(<span class="string">'the dot is :\n'</span>, K.eval(dot))</span><br></pre></td></tr></table></figure><ul><li>输出结果</li></ul><blockquote><p>the origin x1 is :<br> [[4 1]<br> [1 1]]<br>the origin x2 is :<br> [[1 3]<br> [2 2]]</p><p>the add is :<br> [[5. 4.]<br> [3. 3.]]<br>the subtract is :<br> [[ 3. -2.]<br> [-1. -1.]]<br>the multipy is :<br> [[4. 3.]<br> [2. 2.]]<br>the average is :<br> [[2.5 2. ]<br> [1.5 1.5]]<br>the maximum is :<br> [[4. 3.]<br> [2. 2.]]<br>the concat is :<br> [[4. 1.]<br> [1. 1.]<br> [1. 3.]<br> [2. 2.]]<br>the dot is :<br> [[7.]<br> [4.]]</p></blockquote><h2 id="每日一句"><a href="#每日一句" class="headerlink" title="每日一句"></a>每日一句</h2><blockquote><p> If the people we love are stolen from us, the way to have them live on is to never stop loving them. Buildings burn, people die, but real love is forever.</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在使用keras的过程中，会遇到融合层merge的使用，包括Add,Subtract,Multipy,Average,Maximum,Concatenate,Dot，以下就是对相关模块的简单示例，以备后续查看。代码如下：
    
    </summary>
    
      <category term="Deep Learning" scheme="https://xiulonghan.github.io/categories/Deep-Learning/"/>
    
    
      <category term="keras" scheme="https://xiulonghan.github.io/tags/keras/"/>
    
      <category term="merge" scheme="https://xiulonghan.github.io/tags/merge/"/>
    
      <category term="深度学习" scheme="https://xiulonghan.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>python解析号码归属地</title>
    <link href="https://xiulonghan.github.io/2019/08/01/phone-attribute/"/>
    <id>https://xiulonghan.github.io/2019/08/01/phone-attribute/</id>
    <published>2019-08-01T03:16:43.000Z</published>
    <updated>2019-08-01T08:14:49.369Z</updated>
    
    <content type="html"><![CDATA[<p>​        在实际生产环境中，特别是进行运营商数据的处理时，会解析某个号码的归属地、运营商等。本文基于百度的开源接口实现号码归属地解析。代码如下：<a id="more"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入需求的包</span></span><br><span class="line"><span class="keyword">import</span> demjson</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义号码解析函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_number_attribution</span><span class="params">(_number)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Returns the attribution information of the input number。</span></span><br><span class="line"><span class="string">    :param _number:</span></span><br><span class="line"><span class="string">    :return: _number,province,city,operator</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        url = <span class="string">'http://mobsec-dianhua.baidu.com/dianhua_api/open/location?tel='</span>+str(_number)</span><br><span class="line">        req = urllib.request.Request(url)</span><br><span class="line">        resp = urllib.request.urlopen(req)</span><br><span class="line">        content = resp.read()</span><br><span class="line">        resp = demjson.decode(content)</span><br><span class="line">        number_detail = resp[<span class="string">'response'</span>][_number][<span class="string">'detail'</span>]</span><br><span class="line">        city = number_detail[<span class="string">'area'</span>][<span class="number">0</span>][<span class="string">'city'</span>]</span><br><span class="line">        province = number_detail[<span class="string">'province'</span>]</span><br><span class="line">        operator = number_detail[<span class="string">'operator'</span>]</span><br><span class="line">        print(<span class="string">"号码：&#123;0&#125;，省份：&#123;1&#125;，城市：&#123;2&#125;，运营商：&#123;3&#125;"</span>.format(_number, province, city, operator))</span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        print(ValueError)</span><br><span class="line">        </span><br><span class="line"><span class="comment">#主函数入口</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment">#测试号码</span></span><br><span class="line">    number = <span class="string">'phone_number'</span></span><br><span class="line">    get_number_attribution(_number=number)</span><br></pre></td></tr></table></figure><p><strong>示例：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输入：18244226985</span><br><span class="line">输出：号码：18244226985，省份：四川，城市：成都，运营商：移动</span><br><span class="line">输入：17001111234</span><br><span class="line">输出：号码：17001111234，省份：北京，城市：北京，运营商：苏宁互联</span><br><span class="line">输入：19926782222</span><br><span class="line">输出：号码：19926782222，省份：广东，城市：揭阳，运营商：电信</span><br><span class="line">**注**：其中对于虚拟运营商号段，该接口输出的不是电信、移动、联通，而是具体的代理商。</span><br></pre></td></tr></table></figure><h2 id="每日一句"><a href="#每日一句" class="headerlink" title="每日一句"></a>每日一句</h2><p><code>The great pleasure in life is doing what people say you cannot do.</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​        在实际生产环境中，特别是进行运营商数据的处理时，会解析某个号码的归属地、运营商等。本文基于百度的开源接口实现号码归属地解析。代码如下：
    
    </summary>
    
      <category term="Data Analysis" scheme="https://xiulonghan.github.io/categories/Data-Analysis/"/>
    
    
      <category term="python" scheme="https://xiulonghan.github.io/tags/python/"/>
    
      <category term="号码归属地" scheme="https://xiulonghan.github.io/tags/%E5%8F%B7%E7%A0%81%E5%BD%92%E5%B1%9E%E5%9C%B0/"/>
    
  </entry>
  
</feed>
